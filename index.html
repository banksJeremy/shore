<!doctype html>
<html lang=en>
	<head>
		<meta charset="utf-8">
		<title>Shore Math Engine</title>
		<style>
			* {
				margin: 0;
				border: 0;
				padding: 0;
			}
			
			h1 {
				text-shadow: rgba(48, 64, 92, .75) 1px 1px 2px;
			}
			
			h1 span {
				font-size: 80%;
			}
			
			a {
				color: rgb(255, 255, 200);
			}
			
			body {
				font-family: sans-serif;
				font-size: 125%;
				background: rgb(48, 64, 92);
				text-align: center;
			}
			
			h1, h2, h3, h4, h5, h6 {
				margin: auto;
			}
			
			.centering {
				text-align: left;
				width: 32em;
				max-width: 100%;
				margin: 1em auto;
			}
			
			.content {
				padding: 1em;
				background: rgb(255, 255, 240);
				border-radius: .5em;
				-webkit-box-shadow: 0 0 4px rgb(255, 255, 240);
				-moz-box-shadow: 0 0 4px rgb(255, 255, 240);
				box-shadow: 0 0 4px rgb(255, 255, 240);
			}
			
			.footer {
				color: rgb(255, 255, 240);;
				font-size: 75%;
				text-align: center;
				margin: 1em;
			}
			
			form {
			}
			
			input.submit {
				font-size: large;
				border: 1px solid black;
				border-radius: .5em;
				padding: .25em;
				background: #EEE;
				font-weight: bold;
				-webkit-box-shadow: 0 0 2px black;
				cursor: pointer;
			}
			
			input.submit:hover {
				background: #DDD;
			}
			
			input.submit:active {
				background: #CCC;
			}
			
			#input {
				border-radius: .5em;
				overflow: none;
				border: 1px solid black;
				display: block;
				padding: .2em;
				width: 90%;
				margin: .5em auto;
				height: 2em;
				line-height: 1em;
				font-size: 100%;
				white-space: nowrap;
				-webkit-box-shadow: 0 0 2px black;
				-moz-box-shadow: 0 0 2px black;
				box-shadow: 0 0 2px black;
			}
			
			form .buttons {
				margin: .5em;
				text-align: center;
			}
			
			hr {
				border-top: 1px solid gray;
				margin: 1em;
				-webkit-box-shadow: 0 0 2px gray;
				-moz-box-shadow: 0 0 2px gray;
				box-shadow: 0 0 2px gray;
			}
		</style>
		<script type="text/javascript" src="coffee-script.js"></script>
		<script type="text/javascript" src="jQ1.3.4m.js"></script>
		<script type="text/coffeescript">
			emPixels = ((container) ->
				element = $("<div>").css width: "10em"
				element.appendTo(container)
				result = parseFloat(element.css("width")) / 10
				element.remove()
				result
			) $("body")
			
			occurences = (string, character) ->
				index = 0
				result = 0
				while index < string.length
					if string[index] == character
						result += 1
					index += 1
				result
			
			scale_textarea = ->
				height = (occurences($(this).val(), "\n") + 2) * emPixels;
				$(this).css("height", height)
			
			$("#input").css overflow: "hidden"
			$("#input").keyup scale_textarea
			$("#input").focus()
		</script>
	</head>
	<body>
		<div class=centering>
			<div class=content>
				<h1>
					Shore <span>Math Engine</span>
				</h1>
			
				<form>
					<textarea id=input name=i></textarea>
					<div class=buttons>
						<input type=submit class=submit value="Calculate">
					</div>
				</form>
			
				<hr />
			
				<p>
					foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar 
				</p>
			</div>
			
			<div class=footer>
				Shore is developed by <a href="mailto:jeremy@jeremybanks.ca">Jeremy Banks</a>, the source can be found <a href="http://github.com/jeremybanks/shore">on GitHub</a>.
			</div>
		</div>
	</body>
</html>
